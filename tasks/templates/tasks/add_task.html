{% extends "tasks/layout.html" %}
{% load static %}

{% block content %}
<h2>Add Task</h2>

<form id="task-form" method="post">
  {% csrf_token %}
  {{ task_form.as_p }}
  
  <div id="dependencies-container"></div>
  <button type="button" id="add-dependency-btn">+ Add Dependency</button>

  <button type="submit" class="btn btn-primary">Add Task</button>
</form>


<!-- Task board (existing tasks) -->
<div id="task-board">
    {% for task in tasks %}
        <div class="task" id="task-{{ task.id }}">{{ task.name }}</div>
    {% endfor %}
</div>

<!-- JSON data for drawing lines -->
<script id="dependencies-data" type="application/json">
    {{ dependencies|safe }}
</script>

<script src="{% static 'js/tasks.js' %}"></script>
{% endblock %}
